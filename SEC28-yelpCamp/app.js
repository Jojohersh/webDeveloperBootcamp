const express = require("express");
const app = express();
const bodyParser = require('body-parser');

app.use(bodyParser.urlencoded({extended: true}));
app.set("view engine", "ejs");
var campgrounds = [
  {name:"Salmon Creek", image: "https://cdn.pixabay.com/photo/2016/11/22/23/08/adventure-1851092_960_720.jpg"},
  {name:"Mount Doom", image: "data:image/jpeg;base64,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"},
  {name:"White Birch Pass", image: "https://cdn.pixabay.com/photo/2016/01/19/16/48/teepee-1149402_960_720.jpg"}
];
app.get("/", (req,res)=>{
  res.render("landing");
});
app.get("/campgrounds", (req,res) => {

  res.render("campgrounds",{campgrounds: campgrounds});
});
app.get("/campgrounds/new", (req,res) => {
  res.render("new");
});
app.post("/campgrounds", (req,res) => {
  //get data from form and add to campgrounds array
  var name = req.body.name;
  var image = req.body.image;
  var newCampground = {name: name, image: image}
  campgrounds.push(newCampground);
  //redirect back to campground page
  res.redirect("/campgrounds");
});
app.listen(3000, () =>{
  console.log("Yelp camp listening on port 3000...");
});
